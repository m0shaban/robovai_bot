{% if templates %}
<div class="space-y-4">
    {% for template in templates %}
    <div class="bg-slate-800/50 rounded-xl p-4 border border-slate-700 hover:border-cyan-500/50 transition-all group">
        <div class="flex items-start justify-between gap-4">
            <div class="flex-1 min-w-0">
                <div class="flex items-center gap-2 mb-2">
                    <h4 class="font-semibold text-slate-100">{{ template.name }}</h4>
                    <span class="text-xs px-2 py-0.5 rounded-full 
                        {% if template.category.value == 'welcome' %}bg-green-500/20 text-green-400
                        {% elif template.category.value == 'farewell' %}bg-blue-500/20 text-blue-400
                        {% elif template.category.value == 'complaint' %}bg-red-500/20 text-red-400
                        {% elif template.category.value == 'inquiry' %}bg-yellow-500/20 text-yellow-400
                        {% elif template.category.value == 'promotion' %}bg-purple-500/20 text-purple-400
                        {% elif template.category.value == 'support' %}bg-orange-500/20 text-orange-400
                        {% elif template.category.value == 'payment' %}bg-emerald-500/20 text-emerald-400
                        {% elif template.category.value == 'shipping' %}bg-indigo-500/20 text-indigo-400
                        {% else %}bg-slate-500/20 text-slate-400{% endif %}">
                        {% if template.category.value == 'welcome' %}ğŸ‘‹ ØªØ±Ø­ÙŠØ¨
                        {% elif template.category.value == 'farewell' %}ğŸ‘‹ ÙˆØ¯Ø§Ø¹
                        {% elif template.category.value == 'complaint' %}ğŸ˜” Ø´ÙƒØ§ÙˆÙ‰
                        {% elif template.category.value == 'inquiry' %}â“ Ø§Ø³ØªÙØ³Ø§Ø±
                        {% elif template.category.value == 'promotion' %}ğŸ‰ Ø¹Ø±ÙˆØ¶
                        {% elif template.category.value == 'support' %}ğŸ”§ Ø¯Ø¹Ù…
                        {% elif template.category.value == 'payment' %}ğŸ’³ Ø¯ÙØ¹
                        {% elif template.category.value == 'shipping' %}ğŸ“¦ Ø´Ø­Ù†
                        {% else %}ğŸ“‹ Ø¹Ø§Ù…{% endif %}
                    </span>
                </div>
                <div class="bg-slate-900/50 rounded-lg p-3 text-sm text-slate-300 whitespace-pre-wrap mb-2">{{ template.content }}</div>
                {% if template.variables %}
                <div class="flex items-center gap-2 text-xs text-slate-500">
                    <span>ğŸ“Œ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª:</span>
                    {% for var in template.variables.split(',') %}
                    <code class="px-1.5 py-0.5 bg-cyan-900/30 text-cyan-400 rounded">{{"{"}}{{ var.strip() }}{{"}"}}</code>
                    {% endfor %}
                </div>
                {% endif %}
            </div>
            <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="copyTemplate(`{{ template.content | e }}`)" 
                    class="p-2 bg-cyan-600/20 hover:bg-cyan-600/40 text-cyan-400 rounded-lg transition-colors" title="Ù†Ø³Ø®">
                    ğŸ“‹
                </button>
                <button onclick="deleteTemplate({{ template.id }})" 
                    class="p-2 bg-red-600/20 hover:bg-red-600/40 text-red-400 rounded-lg transition-colors" title="Ø­Ø°Ù">
                    ğŸ—‘ï¸
                </button>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

<div class="mt-4 text-center text-sm text-slate-400">
    Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨: {{ templates | length }}
</div>
{% else %}
<div class="text-center py-12 text-slate-400">
    <div class="text-5xl mb-4">ğŸ“­</div>
    <p class="mb-2">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù‚ÙˆØ§Ù„Ø¨ Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†</p>
    <p class="text-sm">Ø£Ø¶Ù Ù‚Ø§Ù„Ø¨Ø§Ù‹ Ø¬Ø¯ÙŠØ¯Ø§Ù‹ Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©</p>
</div>
{% endif %}
